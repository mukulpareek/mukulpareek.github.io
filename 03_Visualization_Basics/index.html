<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Visualization Basics - Business Analytics, Mukul Pareek</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Visualization Basics";
        var mkdocs_page_input_path = "03_Visualization_Basics.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Business Analytics, Mukul Pareek
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Introduction to Business Analytics</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../02_Exploratory_Data_Analysis/">Exploratory Data Analysis</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">Visualization Basics</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#what-is-data-visualization">What is Data Visualization</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#histograms-and-kdes">Histograms and KDEs</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#histograms-and-distribution-types">Histograms and distribution types</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#bin-size">Bin Size</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#kernel-density-estimates">Kernel Density Estimates</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#barplots">Barplots</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#stacked-barplots">Stacked barplots</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#boxplots">Boxplots</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#scatterplots">Scatterplots</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#anscombes-quartet">Anscombe's Quartet</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#the-datasaurus-dataset">The datasaurus dataset</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#line-charts">Line Charts</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#common-lineplot-mistakes">Common lineplot mistakes</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#heatmaps">Heatmaps</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#pairplots">Pairplots</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#lying-with-graphs">Lying with Graphs</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#visualizing-activation-functions">Visualizing Activation Functions</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../04_Data_Preparation/">Data Preparation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../05_Introduction_to_Modeling/">Introduction to Modeling</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../06_Recommender_Systems/">Recommender Systems</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../07_Regression/">Regression</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../08_Feature_Engineering/">Feature Engineering</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../09_Machine_Learning/">Machine Learning</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../10_Deep_Learning/">Deep Learning</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../11_Time_Series/">Time Series</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../12_Text_Data/">Text as Data</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../13.1_Transformers_and_LLMs/">Transformers and LLMs</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../13.2_OpenAI/">OpenAI</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../13.3_Local_LLMs/">Local LLMs</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Business Analytics, Mukul Pareek</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Visualization Basics</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="data-visualization">Data Visualization</h1>
<h2 id="what-is-data-visualization">What is Data Visualization</h2>
<p>Visualizing data in easy to understand graphical formats is as old a practice as mathematics itself.  We visualize data to explore, to summarize, to compare, to understand trends and above all, to be able to tell a story.  </p>
<p><strong>Why is visualization so powerful?</strong><br />
Visualization is powerful because it cues into the 'pre-attentive attributes' that our brain can process extremely fast.  They are information the human brain can process visually almost immediately, and  patterns we can detect without thinking or processing.  </p>
<p>Consider the picture below, and you can see how our mind is instantly directed to key elements highlighted.  </p>
<p><img alt="image.png" src="../03_Visualization_Basics_files/5e81266f-de1a-4646-a45b-ce7efb2b90a8.png" /></p>
<p><em>Source: https://help.tableau.com/current/blueprint/en-us/bp_why_visual_analytics.htm</em></p>
<p><strong>Things to bear in mind</strong><br />
When thinking of using visualization to explore data, or tell a story from data, we generally intuitively know what makes sense.  This is because we live in a visual world, and just by experience know what works and what is less effective.  </p>
<p>Yet it is 
- <strong>Know your audience</strong>: are they mathematically savvy, or lay people?<br />
- <strong>Know your data</strong>: what kind of data do you have decides the kind of visualization to use?<br />
- <strong>Consider the delivery mechanism</strong>: will the visualization be delivered over the web, in print, in a PowerPoint, or in an email?<br />
- <strong>Select the right visuals</strong>: in addition to the type of chart or visualization, think about special effects from lines, markers, colors<br />
- <strong>Use common visual cues in charts</strong>: use the same color schemes, similar visual pointers so that the audience is immediately oriented to the most important aspects<br />
- <strong>Make your point stand out</strong>: is the graphic highlighting the point you are trying to make?<br />
- <strong>Consider the ‘Data-Ink Ratio’</strong>:  Data-ink ratio is ratio of Ink that is used to present actual data compared to the total amount of ink used in the graphic)<br />
- <strong>Be credible, avoid games</strong>: build trust in your work for your audience<br />
- <strong>Consider repeatability</strong>: how difficult would it be for you to do the same work a month down the line?<br />
- <strong>Avoid 3D, doughnuts, pie charts</strong>: they confuse and obfuscate, and do not impress an educated audience<br />
- <strong>Finally, always label the axes !</strong> </p>
<p><strong>Key chart types</strong><br />
Visualization is a vast topic.  It includes customized graphics, dashboards that combine text and multiple visualizations in one place, and interactive drill-downs.  Yet the building blocks of all of these are a set of basic chart types, which are what we will cover here.  Dashboards are creative combinations of these, combined with text and lists.  </p>
<p>For our purposes, it will suffice if we look at the major types of charts in our toolkit, and how and when it is appropriate to use them.  </p>
<p>We will cover: </p>
<ul>
<li>Histograms  </li>
<li>Barplots  </li>
<li>Boxplots  </li>
<li>Scatterplots  </li>
<li>Lineplots  </li>
<li>Pairplots  </li>
<li>Heatmaps  </li>
</ul>
<p><strong>Usual library imports</strong></p>
<pre><code class="language-python">import seaborn as sns
import matplotlib.pyplot as plt
import pandas as pd
import numpy as np
import statsmodels.api as sm
</code></pre>
<p><strong>Load data</strong></p>
<p>As before, we will use the diamonds dataset from seaborn.  This is a dataset of abotu 50,000 diamonds with their prices, and other attributes such as carat, color, clarity etc.  </p>
<pre><code class="language-python">df = sns.load_dataset('diamonds')
</code></pre>
<hr />
<h2 id="histograms-and-kdes">Histograms and KDEs</h2>
<p>A histogram is a visual representation of the distribution of continuous numerical data.  It helps you judge the ‘shape’ of the distribution.  A histogram is a fundamental tool for exploring data.</p>
<p>To construct a histogram, the first step is to "bin" (or "bucket") the range of values—that is, divide the entire range of values into a series of intervals—and then count how many values fall into each interval. </p>
<p>The size of the bin interval matters a great deal, as we will see below.  </p>
<p>The bins are usually specified as consecutive, non-overlapping intervals of a variable. The bins must be adjacent and are often (but not required to be) of equal size.  </p>
<p><strong>Histograms versus bar-charts</strong>: Histograms are different from bar-charts which are used for categorical data.  You will notice that the bars for a histogram are right next to each other to indicate continuity, whereas for a bar-chart they are separated by a gap or white space, indicating that there is no continuity or order implied by the placement of the bars.  </p>
<pre><code class="language-python"># Plot a histogram of diamond prices

ax = sns.histplot(np.log(df['price']),  bins = 20 ); 

</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_6_0.png" /></p>
<pre><code class="language-python"># Plot a histogram of diamond prices
x = np.arange(0,20000,1000)

fig, ax = plt.subplots()
# y = sns.histplot(df['price'],  bins = x ).set(title='Count of diamonds by price')
plt.xticks(x)
plt.xticks(rotation=90)


y = sns.histplot(df.price, element=&quot;bars&quot;, bins=x, stat='count', legend=False)


for i in y.containers:
    y.bar_label(i,fontsize=7,color='b')
plt.rcParams['font.size'] = 10
ax.set_title('Count of diamonds by price')
plt.show()

</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_7_0.png" /></p>
<pre><code class="language-python">
</code></pre>
<pre><code class="language-python"># Plot a kernel density estimate plot of diamond prices

sns.kdeplot(data=df, x=np.log(df['price']));
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_9_0.png" /></p>
<h3 id="histograms-and-distribution-types">Histograms and distribution types</h3>
<p>Histograms are extremely useful to understand where the data is when looked at as a distribution.  They are the truest embodiment of the saying that a picture is worth a thousand words.  </p>
<p>Next, let us look at some common distributions - the normal distribution, left and right skewed distribution, bi-modal distribution and the uniform distribution.  They are constructed below using artificial random data, but the goal is to emphasize the shape of the resulting distribution that you could observe with real data as well.  </p>
<pre><code class="language-python"># Plot a histogram of 100000 normal random variables, split across 40 bins

sns.histplot(np.random.normal(size = 100000),  bins = 40 ); 
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_11_0.png" /></p>
<pre><code class="language-python"># Plot a right skewed histogram of 100000 normal random variables, 
# split across 40 bins, (using the beta distribution)

sns.histplot(np.random.beta(a=0.3, b = 1,size = 100000),  bins = 40 );
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_12_0.png" /></p>
<pre><code class="language-python"># Plot a uniform distribution

sns.histplot(np.random.beta(a=1, b = 1,size = 100000),  bins = 40 ); 
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_13_0.png" /></p>
<pre><code class="language-python"># Plot a left skewed histogram 

sns.histplot(np.random.beta(a=1, b = .4,size = 100000),  bins = 40 ); 
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_14_0.png" /></p>
<pre><code class="language-python"># Plot a bi-modal histogram.
# Notice the 'trick' used - we add two normal distributions
# with different means

list1 = list(np.random.normal(size = 100000))
list2 = list(np.random.normal(loc = 5, scale = 2, size = 100000))
list3 = list1 + list2
</code></pre>
<pre><code class="language-python">sns.histplot(list3,  bins = 40 ); 
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_16_0.png" /></p>
<pre><code class="language-python"># Another graphic where we get several peaks in the histogram

list1 = list(np.random.normal(size = 100000))
list2 = list(np.random.normal(loc = 5, scale = 1, size = 100000))
list3 = list(np.random.normal(loc = 9, scale = 1.2, size = 100000))
list4 = list1 + list2 + list3
sns.histplot(list4,  bins = 60 ); 
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_17_0.png" /></p>
<pre><code class="language-python"># Finally, we bring all the above different types of distributions
# together in a single graphic


fig, axes = plt.subplots(nrows = 2, ncols = 3, figsize = (21,9))
ax1, ax2, ax3, ax4, ax5, ax6 = axes.flatten()
ax1 = sns.histplot(np.random.normal(size = 100000),  bins = 40, ax = ax1 ) 
ax1.set_title('Normal')

ax2 = sns.histplot(np.random.beta(a=0.3, b = 1,size = 100000),  bins = 40, ax = ax2 )
ax2.set_title('Skewed Right')

ax3 = sns.histplot(np.random.beta(a=1, b = .4,size = 100000),  bins = 40, ax = ax3 ) 
ax3.set_title('Skewed Left')

list1 = list(np.random.normal(size = 100000))
list2 = list(np.random.normal(loc = 5, scale = 2, size = 100000))
list3 = list1 + list2
sns.histplot(list3,  bins = 40, ax = ax4 ) 
ax4.set_title('Bimodal')

list1 = list(np.random.normal(size = 100000))
list2 = list(np.random.normal(loc = 5, scale = 1, size = 100000))
list3 = list(np.random.normal(loc = 9, scale = 1.2, size = 100000))
list4 = list1 + list2 + list3
sns.histplot(list4,  bins = 60, ax = ax5 ) 
ax5.set_title('Multimodal')

sns.histplot(np.random.beta(a=1, b = 1,size = 100000),  bins = 40, ax = ax6 ) 
ax6.set_title('Uniform');


</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_18_0.png" /></p>
<h3 id="bin-size">Bin Size</h3>
<p>For histograms, bin size matters.  Generally, the larger the bin size, the less information you will see.  See examples below of the visualization of the same data but using different bin sizes.  </p>
<p>Look at the two plots below, they represent the same data, but with vastly different bin intervals.  They tell completely different stories!</p>
<p>Bin boundaries should align with how people would read the data.  </p>
<pre><code class="language-python">list1 = list(np.random.normal(size = 100000))
list2 = list(np.random.normal(loc = 5, scale = 2, size = 100000))
list3 = list1 + list2
sns.histplot(list3,  bins = 50);
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_20_0.png" /></p>
<pre><code class="language-python">sns.histplot(list3,  bins = 5);
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_21_0.png" /></p>
<h3 id="kernel-density-estimates">Kernel Density Estimates</h3>
<p>Kernel density estimation is a way to estimate the probability density function (PDF) of a random variable.  </p>
<p>One way to think about KDE plots is that these represent histograms with very small bin sizes where the tops of each bar has been joined together with a line.</p>
<p>While this simple explanation suffices for most of us, there is a fair bit of mathematics at work behind KDE plots.  Consider the diagram below.  Each small black vertical line on the x-axis represents a data point. The individual kernels (Gaussians in this example, but others can be specified as well) are shown drawn in dashed red lines above each point. </p>
<p>The solid blue curve is created by summing the individual Gaussians and forms the overall density plot.  </p>
<p><img alt="image.png" src="../03_Visualization_Basics_files/dbdf26ef-be5e-4c95-91fe-55f9250dea19.png" /></p>
<p><em>Source: https://towardsdatascience.com/histograms-and-density-plots-in-python-f6bda88f5ac0</em></p>
<p>Next, let us create KDEs for our random data.  </p>
<pre><code class="language-python">fig, axes = plt.subplots(nrows = 2, ncols = 3, figsize = (21,9))
ax1, ax2, ax3, ax4, ax5, ax6 = axes.flatten()
ax1 = sns.kdeplot(np.random.normal(size = 100000),  ax = ax1 ) 
ax1.set_title('Normal')

ax2 = sns.kdeplot(np.random.beta(a=0.3, b = 1,size = 100000),  ax = ax2 )
ax2.set_title('Skewed Right')

ax3 = sns.kdeplot(np.random.beta(a=1, b = .4,size = 100000),  ax = ax3 ) 
ax3.set_title('Skewed Left')

list1 = list(np.random.normal(size = 100000))
list2 = list(np.random.normal(loc = 5, scale = 2, size = 100000))
list3 = list1 + list2
sns.kdeplot(list3,  ax = ax4 ) 
ax4.set_title('Bimodal')

list1 = list(np.random.normal(size = 100000))
list2 = list(np.random.normal(loc = 5, scale = 1, size = 100000))
list3 = list(np.random.normal(loc = 9, scale = 1.2, size = 100000))
list4 = list1 + list2 + list3
sns.kdeplot(list4,   ax = ax5 ) 
ax5.set_title('Multimodal')

sns.kdeplot(np.random.beta(a=1, b = 1,size = 100000),   ax = ax6 ) 
ax6.set_title('Uniform');


</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_23_0.png" /></p>
<hr />
<h2 id="barplots">Barplots</h2>
<p>Barplots are easy to understand, and require little explanation.  They are also called bar graphs, or column charts.  They are used for categorical variables and show the frequency of the observations for each of the categories.  </p>
<p>Consider the number of diamonds for each color category.  We can demonstrate the data as a data table, and then show the same information in a barplot.  </p>
<p><strong>Data Table</strong></p>
<pre><code class="language-python">df = sns.load_dataset('diamonds')
df[['color']].value_counts().sort_index()
</code></pre>
<pre><code>color
D         6775
E         9797
F         9542
G        11292
H         8304
I         5422
J         2808
Name: count, dtype: int64
</code></pre>
<p><strong>Barplot</strong>  </p>
<pre><code class="language-python">plt.figure(figsize = (14,5))
sns.countplot(x='color', data=df, order = np.sort(df['color'].unique()) );

</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_27_0.png" /></p>
<p>Most software will allow you to combine several data elements together in a barplot.
The chart below shows barplots for both cut and color.</p>
<pre><code class="language-python">plt.figure(figsize = (14,5))
sns.countplot(x='cut', data=df, hue='color').set_title('Cut vs color');
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_29_0.png" /></p>
<h3 id="stacked-barplots">Stacked barplots</h3>
<pre><code class="language-python">sns.histplot(data=df, hue=&quot;color&quot;, x=&quot;cut&quot;, shrink=.8, multiple = &quot;stack&quot;)
</code></pre>
<pre><code>&lt;Axes: xlabel='cut', ylabel='Count'&gt;
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_31_1.png" /></p>
<pre><code class="language-python">sns.histplot(data=df, hue=&quot;color&quot;, x=&quot;cut&quot;, shrink=.7, multiple = &quot;fill&quot;)

</code></pre>
<pre><code>&lt;Axes: xlabel='cut', ylabel='Count'&gt;
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_32_1.png" /></p>
<hr />
<h2 id="boxplots">Boxplots</h2>
<p>Boxplots are useful tools to examine distributions visually.  But they can be difficult to interpret for non-analytical or non-mathematical users.</p>
<pre><code class="language-python">plt.figure(figsize = (4,12))
ax = sns.boxplot(data = df, y = 'carat', )
custom_ticks = np.linspace(0, 5, 51)
ax.set_yticks(custom_ticks);


</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_34_0.png" /></p>
<p><strong>Interpreting the boxplot:</strong>  </p>
<p>The boxplot above has a lot of lines and points.  What do they mean?  The below graphic describes how to interpret a boxplot.  </p>
<p><img alt="image.png" src="../03_Visualization_Basics_files/f1121193-d3a4-4c56-9e37-c05245b350fc.png" /></p>
<p>Compare the above image with the data for the quartiles etc below.  You can see that the lines correspond to the actual calculations for min, max, quartiles etc.  </p>
<pre><code class="language-python">
Q3 = df.carat.quantile(0.75)
Q1 = df.carat.quantile(0.25)
Median = df.carat.median()
Min = df.carat.min()
Max = df.carat.max()
print('Quartile 3 is = ', Q3)
print('Quartile 1 is = ', Q1)
print('Median is = ', Median)
print('Min for the data is = ', Min)
print('Max for the data is = ', Max)
print('IQR is = ', df.carat.quantile(0.75) - df.carat.quantile(0.25))
print('Q3 + 1.5*IQR = ', Q3 + (1.5* (Q3 - Q1)))
print('Q1 - 1.5*IQR = ', Q1 - (1.5* (Q3 - Q1)))
</code></pre>
<pre><code>Quartile 3 is =  1.04
Quartile 1 is =  0.4
Median is =  0.7
Min for the data is =  0.2
Max for the data is =  5.01
IQR is =  0.64
Q3 + 1.5*IQR =  2.0
Q1 - 1.5*IQR =  -0.5599999999999999
</code></pre>
<p><strong>Barplot, with another dimension added</strong><br />
Below is another example of a boxplot, but with a split/dimension added for clarity.  </p>
<pre><code class="language-python">plt.figure(figsize = (14,5))

sns.boxplot(data = df, x = 'clarity', y = 'carat')
</code></pre>
<pre><code>&lt;Axes: xlabel='clarity', ylabel='carat'&gt;
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_38_1.png" /></p>
<hr />
<h2 id="scatterplots">Scatterplots</h2>
<p>Unlike the previous chart types which focus on one variable, scatterplots allow us to examine the relationship between two variables.  </p>
<p>At their core, they are just plots of (x, y) data points on a coordinate system.</p>
<p>Often a regression line is added to scatterplots to get a more precise estimate of the correlation.
Outlier points can be identified visually.</p>
<p>If there are too many data points, scatterplots have the disadvantage of overplotting.</p>
<p>Consider the scatterplot below, which plots a random set of 500 data points from the diamonds dataset.  We picked only 500 points to avoid overplotting.  It shows us the relationship between price and carat weight.  </p>
<pre><code class="language-python">## Scatterplot

sns.set_style(style='white')
plt.figure(figsize = (14,5))
sns.scatterplot(data = df.sample(500), x = 'carat', y = 'price', 
                alpha = .8, edgecolor = 'None');
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_40_0.png" /></p>
<pre><code class="language-python">## Scatterplot

sns.set_style(style='white')
plt.figure(figsize = (14,5))
sns.scatterplot(data = df.sample(500), x = 'carat', y = 'price', 
                hue = 'cut', alpha = .8, edgecolor = 'None');
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_41_0.png" /></p>
<p><strong>Pick additional dimensions to represent through marker attributes using hue, size and style.</strong></p>
<p>By creatively using hue, size and style, you can represent additional dimensions in a scatterplot.</p>
<pre><code class="language-python">sns.set_style(style='white')
plt.figure(figsize = (18,8))
sns.scatterplot(data = df.sample(500), x = 'carat', y = 'price', 
                hue = 'cut', size= 'carat', style = 'color',  alpha = .8, edgecolor = 'None');
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_43_0.png" /></p>
<p><strong>Scatterplot - another example</strong><br />
We plot miles per gallon vs a car's weight (mtcars dataset)</p>
<pre><code class="language-python">plt.figure(figsize = (14,5))
mtcars = sm.datasets.get_rdataset('mtcars').data
sns.scatterplot(data = mtcars, x = 'mpg', y = 'wt', 
                hue = 'cyl', alpha = .8, edgecolor = 'None');

</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_45_0.png" /></p>
<p><strong>Plotting a regression line</strong>  </p>
<p>Continuing the prior example of miles per gallon to weight, we add a regression line to the scatterplot.  </p>
<p>Note that with Seaborn you are able to specify the confidence level around the line, and also the ‘order’ of the regression.  Though we do not do that here, just something to be aware of.  We will learn about the order of the regression in the chapter on regression.  </p>
<pre><code class="language-python">plt.figure(figsize = (14,5))
mtcars = sm.datasets.get_rdataset('mtcars').data
sns.regplot(data = mtcars, x = 'mpg', y = 'wt', ci = 99, order = 1);
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_47_0.png" /></p>
<p><strong>An example of overplotting</strong><br />
We talked about overplotting earlier.  Overplotting happens when too many datapoints are plotted in a small space so they overlap each other and it becomes visually difficult to discern anything meaningful from the graphic.</p>
<p>Let us try to plot all the 50,000 diamonds together in a scatterplot (remember, we plotted only 500 earlier) and see what we get.  </p>
<p>Obviously, this graphic is not very helpful as the datapoints are too crowded.  </p>
<pre><code class="language-python">plt.figure(figsize = (8,8))
sns.scatterplot(data = df, x = 'carat', y = 'price', hue = 'cut', alpha = .8, edgecolor = 'None'); 
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_49_0.png" /></p>
<p><strong>An example of a scatterplot with uncorrelated data</strong><br />
Here is a made up example of a scatterplot constructed with randomly selected <em>x</em> and <em>y</em> variables.  </p>
<p>Since there is no correlation, the data appears as a cloud with no specific trend.  The goal of this graphic is just to demonstrate what uncorrelated data would look like.</p>
<pre><code class="language-python">plt.figure(figsize = (8,8))
sns.scatterplot(x=np.random.normal(size = 100), y=np.random.normal(size = 100));
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_51_0.png" /></p>
<pre><code class="language-python">
</code></pre>
<h3 id="anscombes-quartet">Anscombe's Quartet</h3>
<p><strong>Anscombe's quartet comprises four data sets that have nearly identical simple descriptive statistics, yet have very different distributions and appear very different when graphed. Each dataset consists of eleven (x,y) points. They were constructed in 1973 by the statistician Francis Anscombe to demonstrate both the importance of graphing data when analyzing it, and the effect of outliers and other influential observations on statistical properties. He described the article as being intended to counter the impression among statisticians that "numerical calculations are exact, but graphs are rough."</strong>  </p>
<p><em>Source: Wikipedia at https://en.wikipedia.org/wiki/Anscombe%27s_quartet</em></p>
<p>Anscombe's quartet is an example that illustrates how graphing the data can be a powerful tool providing insights that mere numbers cannot.  </p>
<pre><code class="language-python">## Source: https://seaborn.pydata.org/examples/anscombes_quartet.html

anscombe = sns.load_dataset(&quot;anscombe&quot;)
anscombe
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>dataset</th>
      <th>x</th>
      <th>y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>I</td>
      <td>10.0</td>
      <td>8.04</td>
    </tr>
    <tr>
      <th>1</th>
      <td>I</td>
      <td>8.0</td>
      <td>6.95</td>
    </tr>
    <tr>
      <th>2</th>
      <td>I</td>
      <td>13.0</td>
      <td>7.58</td>
    </tr>
    <tr>
      <th>3</th>
      <td>I</td>
      <td>9.0</td>
      <td>8.81</td>
    </tr>
    <tr>
      <th>4</th>
      <td>I</td>
      <td>11.0</td>
      <td>8.33</td>
    </tr>
    <tr>
      <th>5</th>
      <td>I</td>
      <td>14.0</td>
      <td>9.96</td>
    </tr>
    <tr>
      <th>6</th>
      <td>I</td>
      <td>6.0</td>
      <td>7.24</td>
    </tr>
    <tr>
      <th>7</th>
      <td>I</td>
      <td>4.0</td>
      <td>4.26</td>
    </tr>
    <tr>
      <th>8</th>
      <td>I</td>
      <td>12.0</td>
      <td>10.84</td>
    </tr>
    <tr>
      <th>9</th>
      <td>I</td>
      <td>7.0</td>
      <td>4.82</td>
    </tr>
    <tr>
      <th>10</th>
      <td>I</td>
      <td>5.0</td>
      <td>5.68</td>
    </tr>
    <tr>
      <th>11</th>
      <td>II</td>
      <td>10.0</td>
      <td>9.14</td>
    </tr>
    <tr>
      <th>12</th>
      <td>II</td>
      <td>8.0</td>
      <td>8.14</td>
    </tr>
    <tr>
      <th>13</th>
      <td>II</td>
      <td>13.0</td>
      <td>8.74</td>
    </tr>
    <tr>
      <th>14</th>
      <td>II</td>
      <td>9.0</td>
      <td>8.77</td>
    </tr>
    <tr>
      <th>15</th>
      <td>II</td>
      <td>11.0</td>
      <td>9.26</td>
    </tr>
    <tr>
      <th>16</th>
      <td>II</td>
      <td>14.0</td>
      <td>8.10</td>
    </tr>
    <tr>
      <th>17</th>
      <td>II</td>
      <td>6.0</td>
      <td>6.13</td>
    </tr>
    <tr>
      <th>18</th>
      <td>II</td>
      <td>4.0</td>
      <td>3.10</td>
    </tr>
    <tr>
      <th>19</th>
      <td>II</td>
      <td>12.0</td>
      <td>9.13</td>
    </tr>
    <tr>
      <th>20</th>
      <td>II</td>
      <td>7.0</td>
      <td>7.26</td>
    </tr>
    <tr>
      <th>21</th>
      <td>II</td>
      <td>5.0</td>
      <td>4.74</td>
    </tr>
    <tr>
      <th>22</th>
      <td>III</td>
      <td>10.0</td>
      <td>7.46</td>
    </tr>
    <tr>
      <th>23</th>
      <td>III</td>
      <td>8.0</td>
      <td>6.77</td>
    </tr>
    <tr>
      <th>24</th>
      <td>III</td>
      <td>13.0</td>
      <td>12.74</td>
    </tr>
    <tr>
      <th>25</th>
      <td>III</td>
      <td>9.0</td>
      <td>7.11</td>
    </tr>
    <tr>
      <th>26</th>
      <td>III</td>
      <td>11.0</td>
      <td>7.81</td>
    </tr>
    <tr>
      <th>27</th>
      <td>III</td>
      <td>14.0</td>
      <td>8.84</td>
    </tr>
    <tr>
      <th>28</th>
      <td>III</td>
      <td>6.0</td>
      <td>6.08</td>
    </tr>
    <tr>
      <th>29</th>
      <td>III</td>
      <td>4.0</td>
      <td>5.39</td>
    </tr>
    <tr>
      <th>30</th>
      <td>III</td>
      <td>12.0</td>
      <td>8.15</td>
    </tr>
    <tr>
      <th>31</th>
      <td>III</td>
      <td>7.0</td>
      <td>6.42</td>
    </tr>
    <tr>
      <th>32</th>
      <td>III</td>
      <td>5.0</td>
      <td>5.73</td>
    </tr>
    <tr>
      <th>33</th>
      <td>IV</td>
      <td>8.0</td>
      <td>6.58</td>
    </tr>
    <tr>
      <th>34</th>
      <td>IV</td>
      <td>8.0</td>
      <td>5.76</td>
    </tr>
    <tr>
      <th>35</th>
      <td>IV</td>
      <td>8.0</td>
      <td>7.71</td>
    </tr>
    <tr>
      <th>36</th>
      <td>IV</td>
      <td>8.0</td>
      <td>8.84</td>
    </tr>
    <tr>
      <th>37</th>
      <td>IV</td>
      <td>8.0</td>
      <td>8.47</td>
    </tr>
    <tr>
      <th>38</th>
      <td>IV</td>
      <td>8.0</td>
      <td>7.04</td>
    </tr>
    <tr>
      <th>39</th>
      <td>IV</td>
      <td>8.0</td>
      <td>5.25</td>
    </tr>
    <tr>
      <th>40</th>
      <td>IV</td>
      <td>19.0</td>
      <td>12.50</td>
    </tr>
    <tr>
      <th>41</th>
      <td>IV</td>
      <td>8.0</td>
      <td>5.56</td>
    </tr>
    <tr>
      <th>42</th>
      <td>IV</td>
      <td>8.0</td>
      <td>7.91</td>
    </tr>
    <tr>
      <th>43</th>
      <td>IV</td>
      <td>8.0</td>
      <td>6.89</td>
    </tr>
  </tbody>
</table>
</div>

<pre><code class="language-python"># Print datasets for slides

print('Dataset 1:')
print('x:', list(anscombe[anscombe['dataset']=='I'].x))
print('y:', list(anscombe[anscombe['dataset']=='I'].y),'\n')
print('Dataset 2:')
print('x:', list(anscombe[anscombe['dataset']=='II'].x))
print('y:', list(anscombe[anscombe['dataset']=='II'].y),'\n')
print('Dataset 3:')
print('x:', list(anscombe[anscombe['dataset']=='III'].x))
print('y:', list(anscombe[anscombe['dataset']=='III'].y),'\n')
print('Dataset 4:')
print('x:', list(anscombe[anscombe['dataset']=='IV'].x))
print('y:', list(anscombe[anscombe['dataset']=='IV'].y),'\n')
</code></pre>
<pre><code>Dataset 1:
x: [10.0, 8.0, 13.0, 9.0, 11.0, 14.0, 6.0, 4.0, 12.0, 7.0, 5.0]
y: [8.04, 6.95, 7.58, 8.81, 8.33, 9.96, 7.24, 4.26, 10.84, 4.82, 5.68]

Dataset 2:
x: [10.0, 8.0, 13.0, 9.0, 11.0, 14.0, 6.0, 4.0, 12.0, 7.0, 5.0]
y: [9.14, 8.14, 8.74, 8.77, 9.26, 8.1, 6.13, 3.1, 9.13, 7.26, 4.74]

Dataset 3:
x: [10.0, 8.0, 13.0, 9.0, 11.0, 14.0, 6.0, 4.0, 12.0, 7.0, 5.0]
y: [7.46, 6.77, 12.74, 7.11, 7.81, 8.84, 6.08, 5.39, 8.15, 6.42, 5.73]

Dataset 4:
x: [8.0, 8.0, 8.0, 8.0, 8.0, 8.0, 8.0, 19.0, 8.0, 8.0, 8.0]
y: [6.58, 5.76, 7.71, 8.84, 8.47, 7.04, 5.25, 12.5, 5.56, 7.91, 6.89]
</code></pre>
<pre><code class="language-python">print(np.corrcoef(anscombe[anscombe['dataset']=='I'].x,anscombe[anscombe['dataset']=='I'].y))
print(np.corrcoef(anscombe[anscombe['dataset']=='II'].x,anscombe[anscombe['dataset']=='II'].y))
print(np.corrcoef(anscombe[anscombe['dataset']=='III'].x,anscombe[anscombe['dataset']=='III'].y))
print(np.corrcoef(anscombe[anscombe['dataset']=='IV'].x,anscombe[anscombe['dataset']=='IV'].y))
</code></pre>
<pre><code>[[1.         0.81642052]
 [0.81642052 1.        ]]
[[1.         0.81623651]
 [0.81623651 1.        ]]
[[1.         0.81628674]
 [0.81628674 1.        ]]
[[1.         0.81652144]
 [0.81652144 1.        ]]
</code></pre>
<pre><code class="language-python"># We rearrage the data as to put the four datasets in the quarted side-by-side

pd.concat([anscombe.query(&quot;dataset=='I'&quot;).reset_index(), 
           anscombe.query(&quot;dataset=='II'&quot;).reset_index(), 
           anscombe.query(&quot;dataset=='III'&quot;).reset_index(), 
           anscombe.query(&quot;dataset=='IV'&quot;).reset_index()],axis=1)

</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>dataset</th>
      <th>x</th>
      <th>y</th>
      <th>index</th>
      <th>dataset</th>
      <th>x</th>
      <th>y</th>
      <th>index</th>
      <th>dataset</th>
      <th>x</th>
      <th>y</th>
      <th>index</th>
      <th>dataset</th>
      <th>x</th>
      <th>y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>I</td>
      <td>10.0</td>
      <td>8.04</td>
      <td>11</td>
      <td>II</td>
      <td>10.0</td>
      <td>9.14</td>
      <td>22</td>
      <td>III</td>
      <td>10.0</td>
      <td>7.46</td>
      <td>33</td>
      <td>IV</td>
      <td>8.0</td>
      <td>6.58</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>I</td>
      <td>8.0</td>
      <td>6.95</td>
      <td>12</td>
      <td>II</td>
      <td>8.0</td>
      <td>8.14</td>
      <td>23</td>
      <td>III</td>
      <td>8.0</td>
      <td>6.77</td>
      <td>34</td>
      <td>IV</td>
      <td>8.0</td>
      <td>5.76</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>I</td>
      <td>13.0</td>
      <td>7.58</td>
      <td>13</td>
      <td>II</td>
      <td>13.0</td>
      <td>8.74</td>
      <td>24</td>
      <td>III</td>
      <td>13.0</td>
      <td>12.74</td>
      <td>35</td>
      <td>IV</td>
      <td>8.0</td>
      <td>7.71</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>I</td>
      <td>9.0</td>
      <td>8.81</td>
      <td>14</td>
      <td>II</td>
      <td>9.0</td>
      <td>8.77</td>
      <td>25</td>
      <td>III</td>
      <td>9.0</td>
      <td>7.11</td>
      <td>36</td>
      <td>IV</td>
      <td>8.0</td>
      <td>8.84</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>I</td>
      <td>11.0</td>
      <td>8.33</td>
      <td>15</td>
      <td>II</td>
      <td>11.0</td>
      <td>9.26</td>
      <td>26</td>
      <td>III</td>
      <td>11.0</td>
      <td>7.81</td>
      <td>37</td>
      <td>IV</td>
      <td>8.0</td>
      <td>8.47</td>
    </tr>
    <tr>
      <th>5</th>
      <td>5</td>
      <td>I</td>
      <td>14.0</td>
      <td>9.96</td>
      <td>16</td>
      <td>II</td>
      <td>14.0</td>
      <td>8.10</td>
      <td>27</td>
      <td>III</td>
      <td>14.0</td>
      <td>8.84</td>
      <td>38</td>
      <td>IV</td>
      <td>8.0</td>
      <td>7.04</td>
    </tr>
    <tr>
      <th>6</th>
      <td>6</td>
      <td>I</td>
      <td>6.0</td>
      <td>7.24</td>
      <td>17</td>
      <td>II</td>
      <td>6.0</td>
      <td>6.13</td>
      <td>28</td>
      <td>III</td>
      <td>6.0</td>
      <td>6.08</td>
      <td>39</td>
      <td>IV</td>
      <td>8.0</td>
      <td>5.25</td>
    </tr>
    <tr>
      <th>7</th>
      <td>7</td>
      <td>I</td>
      <td>4.0</td>
      <td>4.26</td>
      <td>18</td>
      <td>II</td>
      <td>4.0</td>
      <td>3.10</td>
      <td>29</td>
      <td>III</td>
      <td>4.0</td>
      <td>5.39</td>
      <td>40</td>
      <td>IV</td>
      <td>19.0</td>
      <td>12.50</td>
    </tr>
    <tr>
      <th>8</th>
      <td>8</td>
      <td>I</td>
      <td>12.0</td>
      <td>10.84</td>
      <td>19</td>
      <td>II</td>
      <td>12.0</td>
      <td>9.13</td>
      <td>30</td>
      <td>III</td>
      <td>12.0</td>
      <td>8.15</td>
      <td>41</td>
      <td>IV</td>
      <td>8.0</td>
      <td>5.56</td>
    </tr>
    <tr>
      <th>9</th>
      <td>9</td>
      <td>I</td>
      <td>7.0</td>
      <td>4.82</td>
      <td>20</td>
      <td>II</td>
      <td>7.0</td>
      <td>7.26</td>
      <td>31</td>
      <td>III</td>
      <td>7.0</td>
      <td>6.42</td>
      <td>42</td>
      <td>IV</td>
      <td>8.0</td>
      <td>7.91</td>
    </tr>
    <tr>
      <th>10</th>
      <td>10</td>
      <td>I</td>
      <td>5.0</td>
      <td>5.68</td>
      <td>21</td>
      <td>II</td>
      <td>5.0</td>
      <td>4.74</td>
      <td>32</td>
      <td>III</td>
      <td>5.0</td>
      <td>5.73</td>
      <td>43</td>
      <td>IV</td>
      <td>8.0</td>
      <td>6.89</td>
    </tr>
  </tbody>
</table>
</div>

<pre><code class="language-python">anscombe.query(&quot;dataset=='I'&quot;)
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>dataset</th>
      <th>x</th>
      <th>y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>I</td>
      <td>10.0</td>
      <td>8.04</td>
    </tr>
    <tr>
      <th>1</th>
      <td>I</td>
      <td>8.0</td>
      <td>6.95</td>
    </tr>
    <tr>
      <th>2</th>
      <td>I</td>
      <td>13.0</td>
      <td>7.58</td>
    </tr>
    <tr>
      <th>3</th>
      <td>I</td>
      <td>9.0</td>
      <td>8.81</td>
    </tr>
    <tr>
      <th>4</th>
      <td>I</td>
      <td>11.0</td>
      <td>8.33</td>
    </tr>
    <tr>
      <th>5</th>
      <td>I</td>
      <td>14.0</td>
      <td>9.96</td>
    </tr>
    <tr>
      <th>6</th>
      <td>I</td>
      <td>6.0</td>
      <td>7.24</td>
    </tr>
    <tr>
      <th>7</th>
      <td>I</td>
      <td>4.0</td>
      <td>4.26</td>
    </tr>
    <tr>
      <th>8</th>
      <td>I</td>
      <td>12.0</td>
      <td>10.84</td>
    </tr>
    <tr>
      <th>9</th>
      <td>I</td>
      <td>7.0</td>
      <td>4.82</td>
    </tr>
    <tr>
      <th>10</th>
      <td>I</td>
      <td>5.0</td>
      <td>5.68</td>
    </tr>
  </tbody>
</table>
</div>

<pre><code class="language-python"># Next, we calculate the descriptive stats and 
# find that these are nearly identical for the four datasets.

pd.concat([anscombe.query(&quot;dataset=='I'&quot;)[['x','y']].reset_index(drop=True), 
           anscombe.query(&quot;dataset=='II'&quot;)[['x','y']].reset_index(drop=True), 
           anscombe.query(&quot;dataset=='III'&quot;)[['x','y']].reset_index(drop=True), 
           anscombe.query(&quot;dataset=='IV'&quot;)[['x','y']].reset_index(drop=True)],axis=1).describe()
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>x</th>
      <th>y</th>
      <th>x</th>
      <th>y</th>
      <th>x</th>
      <th>y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>11.000000</td>
      <td>11.000000</td>
      <td>11.000000</td>
      <td>11.000000</td>
      <td>11.000000</td>
      <td>11.000000</td>
      <td>11.000000</td>
      <td>11.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>9.000000</td>
      <td>7.500909</td>
      <td>9.000000</td>
      <td>7.500909</td>
      <td>9.000000</td>
      <td>7.500000</td>
      <td>9.000000</td>
      <td>7.500909</td>
    </tr>
    <tr>
      <th>std</th>
      <td>3.316625</td>
      <td>2.031568</td>
      <td>3.316625</td>
      <td>2.031657</td>
      <td>3.316625</td>
      <td>2.030424</td>
      <td>3.316625</td>
      <td>2.030579</td>
    </tr>
    <tr>
      <th>min</th>
      <td>4.000000</td>
      <td>4.260000</td>
      <td>4.000000</td>
      <td>3.100000</td>
      <td>4.000000</td>
      <td>5.390000</td>
      <td>8.000000</td>
      <td>5.250000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>6.500000</td>
      <td>6.315000</td>
      <td>6.500000</td>
      <td>6.695000</td>
      <td>6.500000</td>
      <td>6.250000</td>
      <td>8.000000</td>
      <td>6.170000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>9.000000</td>
      <td>7.580000</td>
      <td>9.000000</td>
      <td>8.140000</td>
      <td>9.000000</td>
      <td>7.110000</td>
      <td>8.000000</td>
      <td>7.040000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>11.500000</td>
      <td>8.570000</td>
      <td>11.500000</td>
      <td>8.950000</td>
      <td>11.500000</td>
      <td>7.980000</td>
      <td>8.000000</td>
      <td>8.190000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>14.000000</td>
      <td>10.840000</td>
      <td>14.000000</td>
      <td>9.260000</td>
      <td>14.000000</td>
      <td>12.740000</td>
      <td>19.000000</td>
      <td>12.500000</td>
    </tr>
  </tbody>
</table>
</div>

<pre><code class="language-python"># But when we plot the 4 datasets, we find a completely different picture
# that we as humans find extremely easy to interpret, but wasn't visible
# through the descriptive stats.

sns.lmplot(x=&quot;x&quot;, y=&quot;y&quot;, col=&quot;dataset&quot;, hue=&quot;dataset&quot;, data=anscombe,
           col_wrap=2, ci=None, palette=&quot;muted&quot;, height=5,
           scatter_kws={&quot;s&quot;: 50, &quot;alpha&quot;: 1}, line_kws={&quot;lw&quot;:1,&quot;alpha&quot;: .5, &quot;color&quot;:&quot;black&quot;})
plt.rcParams['font.size'] = 14;
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_60_0.png" /></p>
<h3 id="the-datasaurus-dataset">The datasaurus dataset</h3>
<p>The data sets were created by Justin Matejka and George Fitzmaurice (see https://www.autodesk.com/research/publications/same-stats-different-graphs), inspired by the datasaurus set from Alberto Cairo (see http://www.thefunctionalart.com/2016/08/download-datasaurus-never-trust-summary.html).</p>
<p>Downloaded from https://www.openintro.org/data/index.php?data=datasaurus</p>
<pre><code class="language-python"># Load data
datasaurus = pd.read_csv('datasaurus.csv')
datasaurus
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>dataset</th>
      <th>x</th>
      <th>y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>dino</td>
      <td>55.384600</td>
      <td>97.179500</td>
    </tr>
    <tr>
      <th>1</th>
      <td>dino</td>
      <td>51.538500</td>
      <td>96.025600</td>
    </tr>
    <tr>
      <th>2</th>
      <td>dino</td>
      <td>46.153800</td>
      <td>94.487200</td>
    </tr>
    <tr>
      <th>3</th>
      <td>dino</td>
      <td>42.820500</td>
      <td>91.410300</td>
    </tr>
    <tr>
      <th>4</th>
      <td>dino</td>
      <td>40.769200</td>
      <td>88.333300</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1841</th>
      <td>wide_lines</td>
      <td>33.674442</td>
      <td>26.090490</td>
    </tr>
    <tr>
      <th>1842</th>
      <td>wide_lines</td>
      <td>75.627255</td>
      <td>37.128752</td>
    </tr>
    <tr>
      <th>1843</th>
      <td>wide_lines</td>
      <td>40.610125</td>
      <td>89.136240</td>
    </tr>
    <tr>
      <th>1844</th>
      <td>wide_lines</td>
      <td>39.114366</td>
      <td>96.481751</td>
    </tr>
    <tr>
      <th>1845</th>
      <td>wide_lines</td>
      <td>34.583829</td>
      <td>89.588902</td>
    </tr>
  </tbody>
</table>
<p>1846 rows × 3 columns</p>
</div>

<pre><code class="language-python">1846/13
</code></pre>
<pre><code>142.0
</code></pre>
<pre><code class="language-python"># Plot the data

sns.lmplot(x=&quot;x&quot;, y=&quot;y&quot;, col=&quot;dataset&quot;, hue=&quot;dataset&quot;, data=datasaurus,
           col_wrap=6, ci=None, palette=&quot;muted&quot;, height=5,
           scatter_kws={&quot;s&quot;: 50, &quot;alpha&quot;: 1}, line_kws={&quot;lw&quot;:1,&quot;alpha&quot;: .5, &quot;color&quot;:&quot;black&quot;})
plt.rcParams['font.size'] = 14;
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_64_0.png" /></p>
<hr />
<h2 id="line-charts">Line Charts</h2>
<p>Lineplots are a basic chart type where data points are joined by line segments from left to right.  You need two variables for a lineplot, both <em>x</em> and <em>y</em> have to be specified.</p>
<p>Generally, the variable <em>x</em> will need to be sorted before the plotting is done (else you could end up with a jumbled line).</p>
<p>Let us use GDP data in the dataset `macrodata’.</p>
<pre><code class="language-python"># Let us load 'macrodata'

df = sm.datasets.macrodata.load_pandas()['data']
df
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>quarter</th>
      <th>realgdp</th>
      <th>realcons</th>
      <th>realinv</th>
      <th>realgovt</th>
      <th>realdpi</th>
      <th>cpi</th>
      <th>m1</th>
      <th>tbilrate</th>
      <th>unemp</th>
      <th>pop</th>
      <th>infl</th>
      <th>realint</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1959.0</td>
      <td>1.0</td>
      <td>2710.349</td>
      <td>1707.4</td>
      <td>286.898</td>
      <td>470.045</td>
      <td>1886.9</td>
      <td>28.980</td>
      <td>139.7</td>
      <td>2.82</td>
      <td>5.8</td>
      <td>177.146</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1959.0</td>
      <td>2.0</td>
      <td>2778.801</td>
      <td>1733.7</td>
      <td>310.859</td>
      <td>481.301</td>
      <td>1919.7</td>
      <td>29.150</td>
      <td>141.7</td>
      <td>3.08</td>
      <td>5.1</td>
      <td>177.830</td>
      <td>2.34</td>
      <td>0.74</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1959.0</td>
      <td>3.0</td>
      <td>2775.488</td>
      <td>1751.8</td>
      <td>289.226</td>
      <td>491.260</td>
      <td>1916.4</td>
      <td>29.350</td>
      <td>140.5</td>
      <td>3.82</td>
      <td>5.3</td>
      <td>178.657</td>
      <td>2.74</td>
      <td>1.09</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1959.0</td>
      <td>4.0</td>
      <td>2785.204</td>
      <td>1753.7</td>
      <td>299.356</td>
      <td>484.052</td>
      <td>1931.3</td>
      <td>29.370</td>
      <td>140.0</td>
      <td>4.33</td>
      <td>5.6</td>
      <td>179.386</td>
      <td>0.27</td>
      <td>4.06</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1960.0</td>
      <td>1.0</td>
      <td>2847.699</td>
      <td>1770.5</td>
      <td>331.722</td>
      <td>462.199</td>
      <td>1955.5</td>
      <td>29.540</td>
      <td>139.6</td>
      <td>3.50</td>
      <td>5.2</td>
      <td>180.007</td>
      <td>2.31</td>
      <td>1.19</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>198</th>
      <td>2008.0</td>
      <td>3.0</td>
      <td>13324.600</td>
      <td>9267.7</td>
      <td>1990.693</td>
      <td>991.551</td>
      <td>9838.3</td>
      <td>216.889</td>
      <td>1474.7</td>
      <td>1.17</td>
      <td>6.0</td>
      <td>305.270</td>
      <td>-3.16</td>
      <td>4.33</td>
    </tr>
    <tr>
      <th>199</th>
      <td>2008.0</td>
      <td>4.0</td>
      <td>13141.920</td>
      <td>9195.3</td>
      <td>1857.661</td>
      <td>1007.273</td>
      <td>9920.4</td>
      <td>212.174</td>
      <td>1576.5</td>
      <td>0.12</td>
      <td>6.9</td>
      <td>305.952</td>
      <td>-8.79</td>
      <td>8.91</td>
    </tr>
    <tr>
      <th>200</th>
      <td>2009.0</td>
      <td>1.0</td>
      <td>12925.410</td>
      <td>9209.2</td>
      <td>1558.494</td>
      <td>996.287</td>
      <td>9926.4</td>
      <td>212.671</td>
      <td>1592.8</td>
      <td>0.22</td>
      <td>8.1</td>
      <td>306.547</td>
      <td>0.94</td>
      <td>-0.71</td>
    </tr>
    <tr>
      <th>201</th>
      <td>2009.0</td>
      <td>2.0</td>
      <td>12901.504</td>
      <td>9189.0</td>
      <td>1456.678</td>
      <td>1023.528</td>
      <td>10077.5</td>
      <td>214.469</td>
      <td>1653.6</td>
      <td>0.18</td>
      <td>9.2</td>
      <td>307.226</td>
      <td>3.37</td>
      <td>-3.19</td>
    </tr>
    <tr>
      <th>202</th>
      <td>2009.0</td>
      <td>3.0</td>
      <td>12990.341</td>
      <td>9256.0</td>
      <td>1486.398</td>
      <td>1044.088</td>
      <td>10040.6</td>
      <td>216.385</td>
      <td>1673.9</td>
      <td>0.12</td>
      <td>9.6</td>
      <td>308.013</td>
      <td>3.56</td>
      <td>-3.44</td>
    </tr>
  </tbody>
</table>
<p>203 rows × 14 columns</p>
</div>

<pre><code class="language-python"># Next, we graph the data

df = sm.datasets.macrodata.load_pandas()['data']
plt.figure(figsize = (14,5))
sns.lineplot(data = df.drop_duplicates('year', keep = 'last'), x = 'year', y = 'realgdp');
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_67_0.png" /></p>
<h3 id="common-lineplot-mistakes">Common lineplot mistakes</h3>
<p>Make sure the data is correctly sorted, else you get a jumbled line which means nothing.  </p>
<pre><code class="language-python"># Here, we jumble the data first before plotting.  And we get an incoherent graphic

plt.figure(figsize = (14,5))
sns.lineplot(data = df.drop_duplicates('year', keep = 'last').sample(frac=1), 
             sort= False, x = 'year', y = 'realgdp');
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_69_0.png" /></p>
<pre><code class="language-python"># Let us see a sample of the jumbled/unordered data

df.drop_duplicates('year', keep = 'last').sample(frac=1).head(3)
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>quarter</th>
      <th>realgdp</th>
      <th>realcons</th>
      <th>realinv</th>
      <th>realgovt</th>
      <th>realdpi</th>
      <th>cpi</th>
      <th>m1</th>
      <th>tbilrate</th>
      <th>unemp</th>
      <th>pop</th>
      <th>infl</th>
      <th>realint</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>27</th>
      <td>1965.0</td>
      <td>4.0</td>
      <td>3724.014</td>
      <td>2314.3</td>
      <td>446.493</td>
      <td>544.121</td>
      <td>2594.1</td>
      <td>31.88</td>
      <td>169.1</td>
      <td>4.35</td>
      <td>4.1</td>
      <td>195.539</td>
      <td>2.90</td>
      <td>1.46</td>
    </tr>
    <tr>
      <th>51</th>
      <td>1971.0</td>
      <td>4.0</td>
      <td>4446.264</td>
      <td>2897.8</td>
      <td>524.085</td>
      <td>516.140</td>
      <td>3294.2</td>
      <td>41.20</td>
      <td>230.1</td>
      <td>3.87</td>
      <td>6.0</td>
      <td>208.917</td>
      <td>2.92</td>
      <td>0.95</td>
    </tr>
    <tr>
      <th>107</th>
      <td>1985.0</td>
      <td>4.0</td>
      <td>6955.918</td>
      <td>4600.9</td>
      <td>969.434</td>
      <td>732.026</td>
      <td>5193.9</td>
      <td>109.90</td>
      <td>621.4</td>
      <td>7.14</td>
      <td>7.0</td>
      <td>239.638</td>
      <td>5.13</td>
      <td>2.01</td>
    </tr>
  </tbody>
</table>
</div>

<pre><code class="language-python"># Next, we look at using lineplots for categorical data, 
# which is not a good idea!
#
# let us load the planets dataset.
# It lists over a thousand exoplanets, and how each was discovered.
df = sns.load_dataset('planets')
df
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>method</th>
      <th>number</th>
      <th>orbital_period</th>
      <th>mass</th>
      <th>distance</th>
      <th>year</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Radial Velocity</td>
      <td>1</td>
      <td>269.300000</td>
      <td>7.10</td>
      <td>77.40</td>
      <td>2006</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Radial Velocity</td>
      <td>1</td>
      <td>874.774000</td>
      <td>2.21</td>
      <td>56.95</td>
      <td>2008</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Radial Velocity</td>
      <td>1</td>
      <td>763.000000</td>
      <td>2.60</td>
      <td>19.84</td>
      <td>2011</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Radial Velocity</td>
      <td>1</td>
      <td>326.030000</td>
      <td>19.40</td>
      <td>110.62</td>
      <td>2007</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Radial Velocity</td>
      <td>1</td>
      <td>516.220000</td>
      <td>10.50</td>
      <td>119.47</td>
      <td>2009</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1030</th>
      <td>Transit</td>
      <td>1</td>
      <td>3.941507</td>
      <td>NaN</td>
      <td>172.00</td>
      <td>2006</td>
    </tr>
    <tr>
      <th>1031</th>
      <td>Transit</td>
      <td>1</td>
      <td>2.615864</td>
      <td>NaN</td>
      <td>148.00</td>
      <td>2007</td>
    </tr>
    <tr>
      <th>1032</th>
      <td>Transit</td>
      <td>1</td>
      <td>3.191524</td>
      <td>NaN</td>
      <td>174.00</td>
      <td>2007</td>
    </tr>
    <tr>
      <th>1033</th>
      <td>Transit</td>
      <td>1</td>
      <td>4.125083</td>
      <td>NaN</td>
      <td>293.00</td>
      <td>2008</td>
    </tr>
    <tr>
      <th>1034</th>
      <td>Transit</td>
      <td>1</td>
      <td>4.187757</td>
      <td>NaN</td>
      <td>260.00</td>
      <td>2008</td>
    </tr>
  </tbody>
</table>
<p>1035 rows × 6 columns</p>
</div>

<pre><code class="language-python"># let us look at the data on which methods where used to find planets

df.method.value_counts()
</code></pre>
<pre><code>method
Radial Velocity                  553
Transit                          397
Imaging                           38
Microlensing                      23
Eclipse Timing Variations          9
Pulsar Timing                      5
Transit Timing Variations          4
Orbital Brightness Modulation      3
Astrometry                         2
Pulsation Timing Variations        1
Name: count, dtype: int64
</code></pre>
<pre><code class="language-python"># This could well have been
# Another bad example

planet = df.method.value_counts()
plt.figure(figsize = (6,5))
sns.lineplot(data = planet, x = np.asarray(planet.index), y = planet.values)
plt.xticks(rotation=90)
plt.title('Exoplanets - Methods of Discovery', fontsize = 14)
plt.ylabel('Number of planets')
plt.xlabel('Method used for discovering planet')
</code></pre>
<pre><code>Text(0.5, 0, 'Method used for discovering planet')
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_73_1.png" /></p>
<pre><code class="language-python"># This could well have been
# Another bad example

planet = planet.sample(df.method.nunique())
plt.figure(figsize = (6,5))
sns.lineplot(data = planet, x = np.asarray(planet.index), y = planet.values)
plt.xticks(rotation = 90)
plt.title('Exoplanets - Methods of Discovery', fontsize = 14)
plt.ylabel('Number of planets')
plt.xlabel('Method used for discovering planet')
</code></pre>
<pre><code>Text(0.5, 0, 'Method used for discovering planet')
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_74_1.png" /></p>
<pre><code class="language-python"># The correct way
planet = df.method.value_counts()
sns.barplot(x=planet.index, y=planet.values)
plt.xticks(rotation=90)
plt.title('Exoplanets - Methods of Discovery', fontsize = 14)
plt.ylabel('Number of planets')
plt.xlabel('Method used for discovering planet')
</code></pre>
<pre><code>Text(0.5, 0, 'Method used for discovering planet')
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_75_1.png" /></p>
<hr />
<h2 id="heatmaps">Heatmaps</h2>
<p>We have all seen heatmaps, they are great at focusing our attention on the observations that are at the extremes, and different from the rest.</p>
<p>Heatmaps take three variables – 2 discrete variables for the axes, and one variable whose value is plotted.  </p>
<p>A heatmap provides a grid-like visual where the intersection of the 2 axes is colored according to the value of the variable.  </p>
<p>Let us consider the flights dataset, which is a monthly time series by year and month of the number of air passengers.  Below is a heatmap of the data, with month and year as the axes, and the number of air passengers providing the input for the heatmap color.</p>
<pre><code class="language-python">pd.__version__
</code></pre>
<pre><code>'2.0.3'
</code></pre>
<pre><code class="language-python">flights_long = sns.load_dataset(&quot;flights&quot;)
flights = flights_long.pivot(index = &quot;month&quot;, columns = &quot;year&quot;, values= &quot;passengers&quot;)
plt.figure(figsize = (8,8))
sns.heatmap(flights, annot=True, fmt=&quot;d&quot;);
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_78_0.png" /></p>
<p><strong>Heatmaps for correlations</strong><br />
Because correlations vary between -1 and +1, heatmaps allow a consistent way to visualize and present correlation information.</p>
<p>Combined with the flexibility Pandas allow for creating a correlation matrix, correlation heatmaps are easy to build.</p>
<pre><code class="language-python">## Let us look at correlations in the diamonds dataset

df = sns.load_dataset('diamonds')
df.corr(numeric_only=True)
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>carat</th>
      <th>depth</th>
      <th>table</th>
      <th>price</th>
      <th>x</th>
      <th>y</th>
      <th>z</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>carat</th>
      <td>1.000000</td>
      <td>0.028224</td>
      <td>0.181618</td>
      <td>0.921591</td>
      <td>0.975094</td>
      <td>0.951722</td>
      <td>0.953387</td>
    </tr>
    <tr>
      <th>depth</th>
      <td>0.028224</td>
      <td>1.000000</td>
      <td>-0.295779</td>
      <td>-0.010647</td>
      <td>-0.025289</td>
      <td>-0.029341</td>
      <td>0.094924</td>
    </tr>
    <tr>
      <th>table</th>
      <td>0.181618</td>
      <td>-0.295779</td>
      <td>1.000000</td>
      <td>0.127134</td>
      <td>0.195344</td>
      <td>0.183760</td>
      <td>0.150929</td>
    </tr>
    <tr>
      <th>price</th>
      <td>0.921591</td>
      <td>-0.010647</td>
      <td>0.127134</td>
      <td>1.000000</td>
      <td>0.884435</td>
      <td>0.865421</td>
      <td>0.861249</td>
    </tr>
    <tr>
      <th>x</th>
      <td>0.975094</td>
      <td>-0.025289</td>
      <td>0.195344</td>
      <td>0.884435</td>
      <td>1.000000</td>
      <td>0.974701</td>
      <td>0.970772</td>
    </tr>
    <tr>
      <th>y</th>
      <td>0.951722</td>
      <td>-0.029341</td>
      <td>0.183760</td>
      <td>0.865421</td>
      <td>0.974701</td>
      <td>1.000000</td>
      <td>0.952006</td>
    </tr>
    <tr>
      <th>z</th>
      <td>0.953387</td>
      <td>0.094924</td>
      <td>0.150929</td>
      <td>0.861249</td>
      <td>0.970772</td>
      <td>0.952006</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div>

<pre><code class="language-python"># Next, let us create a heatmap to see where the 
# high +ve, low and high -ve correlations lie

sns.heatmap(data = df.corr(numeric_only=True), annot= True, cmap='coolwarm');
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_81_0.png" /></p>
<hr />
<h2 id="pairplots">Pairplots</h2>
<p>Pairplots are a great way to visualize multiple variables at the same time in a single graphic where the axes are shared.</p>
<p>The relationship between all combinations of variables is shown as a scatterplot, and the distribution of each variable appears in the diagonal.</p>
<p>Let us consider the diamonds dataset again. Below is a pairplot based on table, price, x and y variables.</p>
<pre><code class="language-python">sns.pairplot(data = df[['table', 'price', 'x', 'y', 'color']].sample(100));
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_83_0.png" /></p>
<p>It is possible to add additional dimensions to color the points plotted (just as we could with scatterplots).  </p>
<p>The graphic next shows the same plot as in the prior slide, but with ‘hue’ set to be the diamond’s color.
Note that the univariate diagonal has changed from histograms to KDE.</p>
<pre><code class="language-python">sns.pairplot(data = df[['table', 'price', 'x', 'y', 'color']].sample(100), hue = 'color');
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_85_0.png" /></p>
<h2 id="lying-with-graphs">Lying with Graphs</h2>
<p><em>Source: https://www.nationalgeographic.com/science/article/150619-data-points-five-ways-to-lie-with-charts</em></p>
<p>It is extremely easy to manipulate visualizations to present a story that doesn't exist, or is plainly wrong.</p>
<p>Consider the graphs below.  What is wrong with them?  </p>
<p><img alt="image.png" src="../03_Visualization_Basics_files/af949d80-d0e0-4a6b-9cdb-74a165b2ef5a.png" /></p>
<p><img alt="image.png" src="../03_Visualization_Basics_files/32d2161b-a101-408a-b425-72eec42aa3a7.png" /></p>
<p><img alt="image.png" src="../03_Visualization_Basics_files/95ba96cc-884a-4a36-bac8-cb6c2dda5c11.png" /></p>
<p><img alt="image.png" src="../03_Visualization_Basics_files/1b570405-88dc-4b0b-a37a-051d72ef2a64.png" /></p>
<p><img alt="image.png" src="../03_Visualization_Basics_files/1aab8628-62bb-456a-8e25-7f16c86aeb70.png" /></p>
<p><img alt="image.png" src="../03_Visualization_Basics_files/3cf4a0d5-2819-464b-9898-a62eddf59018.png" /></p>
<p>In the chart on the left, the percentage of Christians is the biggest value, but a larger amount of green shows for Muslims because of the 3-D effect.</p>
<p><strong>Discuss:</strong> 
What story is the chart below trying to tell?
What is wrong with the chart?</p>
<p><em>Source: CB Insights Newsletter dated 9/9/2021</em></p>
<p><img alt="image.png" src="../03_Visualization_Basics_files/f2f2b00a-0bd4-491b-a806-afbe7e90ac27.png" /></p>
<hr />
<p><strong>VISUALIZATION NOTEBOOK ENDS HERE</strong></p>
<hr />
<p><strong>Below are graphics used to show activation functions for a future chapter</strong></p>
<h2 id="visualizing-activation-functions">Visualizing Activation Functions</h2>
<pre><code class="language-python">def sigmoid(x):
    result = 1/(1+np.exp(-x))
    df = pd.DataFrame(data=result, index = x, columns=['Sigmoid'])
    return df

def tanh(x):
    result = (np.exp(x) - np.exp(-x))/(np.exp(x) + np.exp(-x))
    df = pd.DataFrame(data=result, index = x, columns=['TANH'])
    return df


def relu(x):
    result = np.maximum(0,x)
    df = pd.DataFrame(data=result, index = x, columns=['RELU'])
    return df

def leakyrelu(x):
    val = []
    index =[]
    for item in list(x):

        if item &lt;0:
            result = 0.01 * item
        else:
            result = item
        val.append(result)
        index.append(item)
        df = pd.DataFrame(val, columns=['Leaky RELU'])
        df.index = index
    return df
</code></pre>
<pre><code class="language-python">relu(np.arange(-12,12,.1)).plot()
plt.hlines(0, xmin = -15, xmax=10, color='black', alpha=.2)
</code></pre>
<pre><code>&lt;matplotlib.collections.LineCollection at 0x1d4dcfd93f0&gt;
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_91_1.png" /></p>
<pre><code class="language-python">sigmoid(np.arange(-12,12,.1)).plot()
plt.hlines(0, xmin = -15, xmax=10, color='black', alpha=.2)
</code></pre>
<pre><code>&lt;matplotlib.collections.LineCollection at 0x1d4dd08d150&gt;
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_92_1.png" /></p>
<pre><code class="language-python">leakyrelu(np.arange(-45,6,.1)).plot()
plt.hlines(0, xmin = -45, xmax=10, color='black', alpha=.2)
</code></pre>
<pre><code>&lt;matplotlib.collections.LineCollection at 0x1d4de84eaa0&gt;
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_93_1.png" /></p>
<pre><code class="language-python">tanh(np.arange(-12,12,.1)).plot()
plt.hlines(0, xmin = -12, xmax=12, color='black', alpha=.2)
</code></pre>
<pre><code>&lt;matplotlib.collections.LineCollection at 0x1d4de891690&gt;
</code></pre>
<p><img alt="png" src="../03_Visualization_Basics_files/03_Visualization_Basics_94_1.png" /></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../02_Exploratory_Data_Analysis/" class="btn btn-neutral float-left" title="Exploratory Data Analysis"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../04_Data_Preparation/" class="btn btn-neutral float-right" title="Data Preparation">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../02_Exploratory_Data_Analysis/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../04_Data_Preparation/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
